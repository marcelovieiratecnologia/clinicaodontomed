{% extends 'adminlte/base.html' %}

{% include 'adminlte/_scripts.html' %}
<title>{% block title %}Gráfico{% endblock %}</title>

{% block content %}

<div class="box box-primary">
    <h1><span class="glyphicon glyphicon-signal">  Gráficos em  Desenvolvimento</span></h1>
</div>


<div class="box box-success">
    <div class="box-header with-border">
      <h3 class="box-title">Entradas e Saidas</h3>

      <div class="box-tools pull-right">
        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
        </button>
        <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
      </div>
    </div>
    <div class="box-body">
      <div class="chart">
        <canvas id="myChart" style="height: 250px; width: 750px;" height="250" width="750"></canvas>
      </div>
    </div>

</div>

<div class="box box-success">
    <div class="box-header with-border">
      <h3 class="box-title">Entrada e Saida por Mês</h3>

      <div class="box-tools pull-right">
        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
        </button>
        <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
      </div>
    </div>
    <div class="box-body">
      <div class="chart">
        <canvas id="myChart2" style="height: 250px; width: 750px;" height="250" width="750"></canvas>
      </div>
    </div>

</div>


{% block js %}
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.bundle.js"></script>-->
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0/dist/Chart.min.js"></script>
<script>

var ctx = document.getElementById("myChart");
var names = JSON.parse('{{ names|safe }}');
var prices = JSON.parse('{{ prices|safe }}');
var date = JSON.parse('{{ date|safe }}')
var productsChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: date,
        datasets: [{
            label: 'Caixa',
            data: prices,
            <!--backgroundColor: {{ choice_colours|safe }},-->
            borderColor: {{ choice_border_colours|safe }},
            borderWidth: 5
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
        }
    }
});


var ctx = document.getElementById('myChart2').getContext('2d');
var prices = JSON.parse('{{ prices|safe }}');
var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto','Setembro','Outubro','Novembro','Dezembro'],
        datasets: [{
            label: 'Entradas e Saidas',
            data: [12, 19, 3, 5, 2, 3,50,25,31,22,59,80],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)',
                'rgba(255, 159, 64, 0.2)',
                'rgba(255, 159, 64, 0.2)',
                'rgba(255, 159, 64, 0.2)',
                'rgba(255, 159, 64, 0.2)',
                'rgba(255, 159, 64, 0.2)',
                'rgba(255, 159, 64, 0.2)',
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)',
                'rgba(255, 159, 64, 1)',
                'rgba(255, 159, 64, 1)',
                'rgba(255, 159, 64, 1)',
                'rgba(255, 159, 64, 1)',
                'rgba(255, 159, 64, 1)',
                'rgba(255, 159, 64, 1)',
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    }
});
</script>
{% endblock js %}
{% endblock %}
